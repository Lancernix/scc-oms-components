"use strict";(self.webpackChunkscc_oms_components=self.webpackChunkscc_oms_components||[]).push([[881],{7881:function(te,z,m){m.d(z,{mO:function(){return De},Mt:function(){return j},I0:function(){return me},GM:function(){return Ee},Px:function(){return Oe},jI:function(){return d},y4:function(){return ze}});var B=m(68585),P=m.n(B),V=m(67825),Y=m.n(V),a=m(57689),b=m(23106),Z=m(13006),R=m(76145),N=["value","onChange","valueType","format","picker"],W=["value","onChange","valueType","format"];function j(e){var n=e.value,r=e.onChange,i=e.valueType,l=i===void 0?"string":i,t=e.format,o=t===void 0?"YYYY-MM-DD HH:mm:ss":t,c=e.picker,u=Y()(e,N),s=(0,a.useMemo)(function(){return(0,R.ez)(n,o)},[o,n]),f=function(h){var v=(0,R.wY)(h,l,o);r==null||r(v)};return a.createElement(b.Z,P()({value:s,onChange:f,format:o,picker:c},u))}function d(e){var n=e.value,r=e.onChange,i=e.valueType,l=i===void 0?"string":i,t=e.format,o=t===void 0?"HH:mm:ss":t,c=Y()(e,W),u=(0,a.useMemo)(function(){return(0,R.ez)(n,o)},[o,n]),s=function(y){var h=(0,R.wY)(y,l,o);r==null||r(h)};return a.createElement(Z.Z,P()({value:u,onChange:s,format:o},c))}var M=m(48305),I=m.n(M),D=m(13282),K=m(9526),ne=m(82092),H=m.n(ne);function U(e,n){return e.length?[(0,R.ez)(e[0],n),(0,R.ez)(e[1],n)]:[void 0,void 0]}function ae(e,n){var r=n.form,i=n.fields,l=n.format,t=n.valueType,o=n.showTime,c=n.useStartAndEndOfDay,u=(0,a.useState)(U(e,l)),s=I()(u,2),f=s[0],y=s[1];function h(v){var E,T,g=[];if(!v||!v.length){r.setFieldsValue(H()({},i[0],void 0)),r.setFieldsValue(H()({},i[1],void 0));return}v[0]&&(g[0]=!o&&c?(0,R.wY)(v[0].startOf("day"),t,l):(0,R.wY)(v[0],t,l)),v[1]&&(g[1]=!o&&c?(0,R.wY)(v[1].endOf("day"),t,l):(0,R.wY)(v[1],t,l)),r.setFieldsValue(H()({},i[0],(E=g[0])!==null&&E!==void 0?E:void 0)),r.setFieldsValue(H()({},i[1],(T=g[1])!==null&&T!==void 0?T:void 0))}return(0,a.useEffect)(function(){y(U(e,l))},[JSON.stringify(e),l]),[f,h]}var re=ae,oe=["picker"],le=b.Z.RangePicker,ie={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}};function ue(e){var n,r,i=e.label,l=e.name,t=e.rules,o=e.allowClear,c=o===void 0?!0:o,u=e.fields,s=e.initialValue,f=s===void 0?[void 0,void 0]:s,y=e.form,h=e.showTime,v=h===void 0?!1:h,E=e.useStartAndEndOfDay,T=E===void 0?!1:E,g=e.format,k=g===void 0?"YYYY-MM-DD HH:mm:ss":g,p=e.valueType,C=p===void 0?"string":p,F=e.formItemLayout,x=F===void 0?ie:F,S=e.otherRangePickerProps,$=S===void 0?{}:S,L=e.otherFormItemProps,O=L===void 0?{}:L,Be=$.picker,Ne=Y()($,oe),We=re(f,{form:y,fields:u,valueType:C,format:k,useStartAndEndOfDay:T,showTime:v}),ee=I()(We,2),je=ee[0],Ke=ee[1];return a.createElement(a.Fragment,null,a.createElement(D.Z.Item,P()({label:i,name:l!=null?l:"".concat(u[0],"__").concat(u[1])},x,{initialValue:je,rules:t},O),a.createElement(le,P()({showTime:v,picker:Be,allowClear:c,onChange:Ke},Ne))),a.createElement(D.Z.Item,{hidden:!0,name:u[0],initialValue:(n=f[0])!==null&&n!==void 0?n:""},a.createElement(K.Z,null)),a.createElement(D.Z.Item,{hidden:!0,name:u[1],initialValue:(r=f[1])!==null&&r!==void 0?r:""},a.createElement(K.Z,null)))}var me=ue,de=Z.Z.RangePicker,ce={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}};function Ue(e){var n,r,i=e.label,l=e.fields,t=e.name,o=e.initialValue,c=o===void 0?[void 0,void 0]:o,u=e.form,s=e.rules,f=e.allowClear,y=f===void 0?!0:f,h=e.format,v=h===void 0?"HH:mm:ss":h,E=e.valueType,T=E===void 0?"string":E,g=e.formItemLayout,k=g===void 0?ce:g,p=e.otherRangePickerProps,C=p===void 0?{}:p,F=e.otherFormItemProps,x=F===void 0?{}:F,S=useRangePicker(c,{form:u,fields:l,valueType:T,format:v}),$=_slicedToArray(S,2),L=$[0],O=$[1];return React.createElement(React.Fragment,null,React.createElement(Form.Item,_extends({label:i,name:t!=null?t:"".concat(l[0],"__").concat(l[1])},k,{initialValue:L,rules:s},x),React.createElement(de,_extends({onChange:O,allowClear:y},C))),React.createElement(Form.Item,{hidden:!0,name:l[0],initialValue:(n=c[0])!==null&&n!==void 0?n:""},React.createElement(Input,null)),React.createElement(Form.Item,{hidden:!0,name:l[1],initialValue:(r=c[1])!==null&&r!==void 0?r:""},React.createElement(Input,null)))}var Ge=null,se=m(53649),ve=m.n(se),fe=m(62050),he=m(45296),ye=m(75369),Te=m(51069),ge=["requiredMark","hidden","editable","component","rules","initialValue","tooltip"],G,xe=(0,Te.ZP)(fe.Z)(G||(G=ve()([`
  .ant-table-thead > tr > th, .ant-table-tbody > tr > td, .ant-table tfoot > tr > th, .ant-table tfoot > tr > td {
    padding: 8px;
  }
  .hidden {
    display: none;
  }
  .ant-table-thead > tr > th.ant-table-cell {
    .required-mark {
      color: #ff4d4f;
      margin-right: 4px;
    }
    .title-icon {
      vertical-align: -0.2em;
      margin-left: 4px;
    }
  }
`]))),Pe=(0,a.memo)(function(n){var r=n.value;return a.createElement("span",null,r)}),J=(0,a.memo)(function(n){var r=n.title,i=n.requiredMark,l=n.tooltip;return a.createElement(a.Fragment,null,i?a.createElement("span",{className:"required-mark"},"*"):null,r,l?a.createElement(he.Z,{title:l},a.createElement(ye.Z,{className:"title-icon"})):null)});function Q(e,n){var r=n.remove,i=n.add,l=n.move;return e.map(function(t){var o={};if(typeof t=="function")o=t({remove:r,add:i,move:l});else{var c;if((c=t.children)!==null&&c!==void 0&&c.length)o.title=t.requiredMark?a.createElement(J,{title:t.title,tooltip:t.tooltip,requiredMark:t.requiredMark}):t.title,o.children=Q(t.children,{remove:r,add:i,move:l});else{var u,s=t.requiredMark,f=s===void 0?!1:s,y=t.hidden,h=y===void 0?!1:y,v=t.editable,E=v===void 0?!1:v,T=t.component,g=t.rules,k=t.initialValue,p=t.tooltip,C=Y()(t,ge);o=C,o.title=f||p?a.createElement(J,{title:t.title,tooltip:p,requiredMark:f}):t.title,o.key=(u=t.key)!==null&&u!==void 0?u:t.dataIndex,o.width=t.width,h&&(o.className="hidden",o.colSpan=0),t.render?o.render=t.render:E?T?o.render=function(F,x){return a.createElement(D.Z.Item,{name:[x.name,t.dataIndex],style:{margin:0},rules:typeof g=="function"?g(x):g,hidden:t.hidden,initialValue:typeof k=="function"?k(x):k},typeof T=="function"?T(x):T)}:console.error("When `editable` is true, `component` cannot be empty."):o.render=function(F,x){return a.createElement(D.Z.Item,{name:[x.name,t.dataIndex],style:{margin:0},initialValue:typeof k=="function"?k(x):k},a.createElement(Pe,null))}}}return o})}function Ee(e){var n=e.name,r=e.tableColumns,i=e.operateBtnsPosition,l=i===void 0?"bottom":i,t=e.operateBtnsNode,o=e.tableProps,c=o===void 0?{bordered:!0,pagination:!1}:o,u=e.initialValue;return a.createElement(D.Z.List,{name:n,initialValue:u},function(s,f){var y=f.add,h=f.remove,v=f.move;return a.createElement("div",{style:{display:"flex",flexDirection:l==="bottom"?"column":"column-reverse"}},a.createElement(xe,P()({},c,{rowKey:function(T){return T.name},dataSource:s,columns:Q(r,{add:y,remove:h,move:v})})),t?a.createElement("div",{className:"operate-btns-area"},typeof t=="function"?t({add:y,remove:h,move:v}):t):null)})}var ke=m(26068),w=m.n(ke),A=m(9339),pe=m(38987),Fe=m(72226);function X(e,n,r){var i=window.innerHeight-e-n;return i<r?r:i}function Re(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=X(e,n,r),l=(0,a.useState)(i),t=I()(l,2),o=t[0],c=t[1],u=function(){var f=X(e,n,r);c(f)};return(0,a.useEffect)(function(){return window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}},[]),o}var Me=["type","size","onReset","onOk","okText","resetText","fetchLoading","contentScrollY","bodyStyle","extraFooter","children","onCancel","title","showFooter","confirmLoading"],Ce={xs:"400px",s:"640px",m:"880px",l:"1120px",xl:"1360px"},Ye={view:"\u8BE6\u60C5",create:"\u65B0\u5EFA",edit:"\u7F16\u8F91"},Ie=(0,a.memo)(function(n){var r=n.type,i=n.onReset,l=n.onOk,t=n.resetText,o=n.okText,c=n.confirmLoading,u=n.extraFooter,s=n.onCancel;switch(r){case"edit":case"create":return a.createElement(a.Fragment,null,u!=null?u:null,a.createElement(A.Z,{style:{marginLeft:"10px"},key:"reset",onClick:i},t),a.createElement(A.Z,{style:{marginLeft:"10px"},key:"submit",type:"primary",onClick:l,loading:c},o));default:return a.createElement(a.Fragment,null,u!=null?u:null,a.createElement(A.Z,{key:"ok",style:{marginLeft:"10px"},type:"primary",onClick:s},o))}});function De(e){var n=e.type,r=n===void 0?"view":n,i=e.size,l=i===void 0?"m":i,t=e.onReset,o=e.onOk,c=e.okText,u=c===void 0?"\u786E\u5B9A":c,s=e.resetText,f=s===void 0?"\u91CD\u7F6E":s,y=e.fetchLoading,h=y===void 0?!1:y,v=e.contentScrollY,E=v===void 0?!0:v,T=e.bodyStyle,g=e.extraFooter,k=e.children,p=e.onCancel,C=e.title,F=e.showFooter,x=F===void 0?!0:F,S=e.confirmLoading,$=S===void 0?!1:S,L=Y()(e,Me),O=Re(150,150,100);return a.createElement(pe.Z,P()({},L,{width:Ce[l],bodyStyle:w()(w()({},T),{},{height:"fit-content",maxHeight:O,overflowY:E?"auto":"hidden"}),title:C!=null?C:Ye[r],onOk:o,okText:u,onCancel:p,footer:x?a.createElement(Ie,{type:r,onOk:o,okText:u,confirmLoading:$,onReset:t,resetText:f,extraFooter:g,onCancel:p}):null}),a.createElement(Fe.Z,{spinning:h},k))}var Se=m(11938),$e=["children","withConfirm","onClick","popconfirmTitle","popconfirmOkText","popconfirmCancelText","loading","style"];function Le(e){var n=e.children,r=e.withConfirm,i=r===void 0?!1:r,l=e.onClick,t=e.popconfirmTitle,o=t===void 0?"\u786E\u5B9A\u6267\u884C\u8BE5\u64CD\u4F5C\u5417\uFF1F":t,c=e.popconfirmOkText,u=c===void 0?"\u786E\u5B9A":c,s=e.popconfirmCancelText,f=s===void 0?"\u53D6\u6D88":s,y=e.loading,h=e.style,v=Y()(e,$e),E=(0,a.useState)(!1),T=I()(E,2),g=T[0],k=T[1],p=function(x){if(i){k(!0);return}l==null||l(x)},C=function(x){i&&(l==null||l(x),k(!1))};return a.createElement(Se.Z,{title:o,visible:i?g:!1,onConfirm:C,onCancel:function(){return k(!1)},okText:u,cancelText:f},a.createElement(A.Z,P()({type:"link",loading:y,onClick:p,style:w()(w()({},h),{},{padding:0,height:"auto",margin:"0 4px"})},v),n))}var Oe=Le,Ve=m(90228),q=m.n(Ve),be=m(87999),Ze=m.n(be),He=m(48933),we=m(31759),Ae=m.n(we);function _(e,n){Object.keys(e).forEach(function(r){r===n?delete e[r]:Ae()(e[r])==="object"&&e[r]!==null&&_(e[r],n)})}function ze(e){var n=(0,a.useCallback)(function(){var r=Ze()(q()().mark(function i(l){return q()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",e.validateFields().then(function(c){if(l!=null&&l.length){var u=(0,He.Z)(c);return l.forEach(function(s){s.deep?_(u,s.name):u[s.name]&&delete u[s.name]}),Promise.resolve(u)}return Promise.resolve(c)}).catch(function(c){return e.scrollToField(c.errorFields[0].name,{behavior:"smooth",block:"center"}),Promise.reject(c)}));case 1:case"end":return o.stop()}},i)}));return function(i){return r.apply(this,arguments)}}(),[e]);return n}},76145:function(te,z,m){m.d(z,{UA:function(){return V},_s:function(){return Y},ez:function(){return W},wY:function(){return b}});var B=m(11333),P=m.n(B);function V(d){return P().isMoment(d)?d.unix():void 0}function Y(d){return P().isMoment(d)?d.valueOf():void 0}function a(d){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY-MM-DD HH:mm:ss";return P().isMoment(d)?d.format(M):void 0}function b(d,M){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY-MM-DD HH:mm:ss";switch(M){case"string":return a(d,I);case"secondTimestamp":return V(d);case"timestamp":return Y(d);case"moment":return P().isMoment(d)?d:void 0;default:return a(d,I)}}function Z(d,M){var I=M!=null?M:"YYYY-MM-DD HH:mm:ss",D=P()(d,I);return D.isValid()?D:void 0}function R(d){return Number.isInteger(d)?P().unix(d):void 0}function N(d){return Number.isInteger(d)?P()(d):void 0}function W(d){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY-MM-DD HH:mm:ss";return typeof d=="string"?Z(d,M):typeof d=="number"?d.toString().length<13?R(d):N(d):P().isMoment(d)?d:void 0}var j={}}}]);
